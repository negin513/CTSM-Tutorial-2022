
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutorial 1b: Global Visualizations &#8212; CTSM Mini-tutorial 2022</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial 2b: Running a generic single-point case" href="Day2_GenericSinglePoint.html" />
    <link rel="prev" title="Tutorial 1a: Global Simulations" href="Day1a_GlobalCase.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/ncar_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CTSM Mini-tutorial 2022</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lesson 0
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day0a_GitStarted.html">
   Tutorial 0a:
   <em>
    CTSM, CESM-Lab, &amp; Git
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Day0b_NEON_Simulation_Tutorial.html">
   Tutorial 1: CTSM Simulations at NEON Tower Sites
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lesson 1
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day1a_GlobalCase.html">
   Tutorial 1a:
   <em>
    Global Simulations
   </em>
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Tutorial 1b:
   <em>
    Global Visualizations
   </em>
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lesson 2
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Day2_GenericSinglePoint.html">
   Tutorial 2b: Running a generic single-point case
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/Day1b_GlobalVisualization.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/NCAR/CTSM-Tutorial-2022"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/NCAR/CTSM-Tutorial-2022/issues/new?title=Issue%20on%20page%20%2Fnotebooks/Day1b_GlobalVisualization.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/NCAR/CTSM-Tutorial-2022/edit/master/docs/notebooks/Day1b_GlobalVisualization.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/NCAR/CTSM-Tutorial-2022/master?urlpath=tree/docs/notebooks/Day1b_GlobalVisualization.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#in-this-tutorial">
   In this tutorial
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#first-we-need-to-point-to-our-data">
     First we need to point to our data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#next-we-ll-open-the-files">
     Next we’ll open the files
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#printing-information-on-dataset-we-ve-read-is-helpful-for-understanding-your-data">
       Printing information on dataset we’ve read is helpful for understanding your data.
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#combining-datasets">
       Combining datasets
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#additional-derived-variables-can-be-added-to-the-dataset">
       Additional, derived variables can be added to the dataset
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#xarray-makes-quick-plots-of-the-data-easy-to-make">
       Xarray makes quick plots of the data easy to make.
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#we-can-also-look-at-a-time-series">
     We can also look at a
     <em>
      time series
     </em>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#global-time-series">
   Global time series
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculate-and-plot-a-global-weighted-sum">
     Calculate and plot a global weighted sum
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-and-plot-an-annual-weighted-mean">
   Calculate and plot an annual weighted mean
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#define-function-for-plotting-maps">
     Define function for plotting maps
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#now-make-the-plot">
       Now make the plot!
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extra-credit-challenge">
   Extra credit challenge
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Tutorial 1b: Global Visualizations</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#in-this-tutorial">
   In this tutorial
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#first-we-need-to-point-to-our-data">
     First we need to point to our data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#next-we-ll-open-the-files">
     Next we’ll open the files
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#printing-information-on-dataset-we-ve-read-is-helpful-for-understanding-your-data">
       Printing information on dataset we’ve read is helpful for understanding your data.
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#combining-datasets">
       Combining datasets
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#additional-derived-variables-can-be-added-to-the-dataset">
       Additional, derived variables can be added to the dataset
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#xarray-makes-quick-plots-of-the-data-easy-to-make">
       Xarray makes quick plots of the data easy to make.
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#we-can-also-look-at-a-time-series">
     We can also look at a
     <em>
      time series
     </em>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#global-time-series">
   Global time series
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculate-and-plot-a-global-weighted-sum">
     Calculate and plot a global weighted sum
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-and-plot-an-annual-weighted-mean">
   Calculate and plot an annual weighted mean
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#define-function-for-plotting-maps">
     Define function for plotting maps
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#now-make-the-plot">
       Now make the plot!
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#extra-credit-challenge">
   Extra credit challenge
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="tutorial-1b-global-visualizations">
<h1>Tutorial 1b: <em>Global Visualizations</em><a class="headerlink" href="#tutorial-1b-global-visualizations" title="Permalink to this headline">¶</a></h1>
<p>This tutorial is an introduction to analizing results from a global simulation.  It build on the case you just ran in the <code class="docutils literal notranslate"><span class="pre">Global_Simulations</span></code>, but do don’t have to wait for those runs to complete before doing this tutorial too. We’ve prestaged the model results in a shared directory so that you can get started on this now.</p>
<div class="section" id="in-this-tutorial">
<h2>In this tutorial<a class="headerlink" href="#in-this-tutorial" title="Permalink to this headline">¶</a></h2>
<p>The tutorial has several objectives:</p>
<ol class="simple">
<li><p>Start getting familiar with Jupyter Notebooks</p></li>
<li><p>Begin getting aquinted with python packages and their utilities</p></li>
<li><p>Compare results from two simulations, here CLM5.1-SP and CLM5.1_FATES-SP</p></li>
</ol>
<hr class="docutils" />
<p><strong>This tutorial uses a Jupyter Notebook.</strong> A Jupyter Notebook is an interactive computing environment that enables the creation and sharing of documents that contain discrete cells of text or documentation and executable code, including plots. It allows users to access, run, and edit the code in a browser. To interact with this notebook:</p>
<ul class="simple">
<li><p>Execute or “run” cells of executable code (cells denoted with ‘[ ]:’) using the play button in the menu at the top (see below image)</p></li>
<li><p>The results of running code, such as plots, will appear below that cell</p></li>
<li><p>Each step must be followed in order, otherwise you may encounter errors</p></li>
</ul>
<p><img alt="run cell" src="https://problemsolvingwithpython.com/02-Jupyter-Notebooks/images/run_cell.png" /></p>
<p>For more information on Jupyter notebooks please see the <a class="reference external" href="https://jupyter-notebook-beginner-guide.readthedocs.io/en/latest/what_is_jupyter.html">Jupyter Notebook Quick Start Guide</a>.</p>
<hr class="docutils" />
<p>You don’t have to do anything to setup or run a Jupyter notebook, it’s already configured for you in CESM-Lab.</p>
<div class="alert alert-block alert-info">
<b>NOTE:</b> Previously, all our <b>To Do</b> tasks had do be done on the command-line.  In this tutorial you can directly execute the contents of code blocks by running individual cells in this Jupyter notebook, just like on the Day 0b <i>Run NEON</i> tutorial.
</div>
<hr class="docutils" />
<p><em>We’ll start by loading some packages</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1">#from netCDF4 import num2date</span>

<span class="c1"># some resources for plotting</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">cartopy</span>
<span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">cftime</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block alert-warning">
<p><b>NOTICE:</b>  This example largely uses features of xarray and
matplotlib packages. We don’t have time to go into the basics
of python or features in these packages, but there are lots of
resources to help get you started. We’ve listed some of these below.</p>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://ncar.github.io/python-tutorial/tutorials/yourfirst.html">NCAR python tutorial</a>, which introduces python, the conda package manager, and more on github.</p></li>
<li><p><a class="reference external" href="https://ncar.github.io/esds/blog/tag/python-tutorial-series/">NCAR ESDS tutorial series</a>, features a bunch of recorded tutorials on a wide variety of topics.</p></li>
<li><p><a class="reference external" href="https://geocat-examples.readthedocs.io/en/latest/">GeoCAT examples</a>, with some nice plotting examples</p></li>
<li><p>TODO add more?</p></li>
</ul>
<hr class="docutils" />
<div class="section" id="first-we-need-to-point-to-our-data">
<h3>First we need to point to our data<a class="headerlink" href="#first-we-need-to-point-to-our-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/scratch/data/day1/&#39;</span>         <span class="c1"># path to archived simulations</span>
<span class="c1">#path = &#39;/glade/scratch/wwieder/archive/&#39;         # path to archived simulations on cheyenne</span>
<span class="n">cases</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;I2000_CTSM51_sp&#39;</span><span class="p">,</span><span class="s1">&#39;I2000_CTSM_FATESsp&#39;</span><span class="p">]</span> <span class="c1"># case names</span>
<span class="n">years</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2020</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>                 <span class="c1"># look at the last 5 years of data</span>

<span class="c1"># create a list of the files we&#39;ll open</span>
<span class="c1"># for now we&#39;ll create two different lists of files since they have different variables in the history file </span>
<span class="n">finCTSM</span>  <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">+</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;/lnd/hist/&#39;</span><span class="o">+</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.clm2.h0.&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;*&#39;</span> <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">]</span> 
<span class="n">finFATES</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">+</span><span class="n">cases</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;/lnd/hist/&#39;</span><span class="o">+</span><span class="n">cases</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.clm2.h0.&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;*&#39;</span> <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">]</span> 

<span class="nb">print</span><span class="p">(</span><span class="n">finCTSM</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">finFATES</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/scratch/data/day1/I2000_CTSM51_sp/lnd/hist/I2000_CTSM51_sp.clm2.h0.2015*
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;/scratch/data/day1/I2000_CTSM_FATESsp/lnd/hist/I2000_CTSM_FATESsp.clm2.h0.2019*&#39;
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block alert-info">
<b>NOTE:</b> These are the raw history files that CTSM writes out.  
They are grid cell, monthly means for different states and fluxes.
<br><br>
Typically we post-process these data to generate single variable time series for an experiment. 
This means that model output for each variable, like rain, air temperature, or latent heat flux, are each in their own file.
<br><br>
We'll work on a post-processing tutorial, but for now we'll just read in the monthly history files described above.
</div>
</div>
<div class="section" id="next-we-ll-open-the-files">
<h3>Next we’ll open the files<a class="headerlink" href="#next-we-ll-open-the-files" title="Permalink to this headline">¶</a></h3>
<p>This is done with the xarray function <code class="docutils literal notranslate"><span class="pre">open_mfdataset</span></code></p>
<p>To make this go faster, we’re going to preprocess the data so we’re just reading the variables we want to look at.</p>
<div class="alert alert-block alert-info">
<b>TIP:</b> If you want to look at other variables, the cell below is where you can modify what we're reading off of the CTSM and CTSM-FATES history files.
<br><br>
</div>
<p>Depending on what you’re looking at, these variables of interest may have different names in CTSM and CTSM-FATES simulations.  Sorry, this is confusing, but FATES-specific variables all have a <em>FATES_</em> prefix. This reflects if the history variables is being calculated by FATES directly, or uses information from FATES, but ultimately calculated by the host land model (here CTSM).</p>
<p>To begin with we’ll look at albedo that’s simulated by the two models. Albedo and can be calculated in several different ways, but they all use solar radiation terms are handled within CTS .  Here we’ll look at ‘all sky albedo’, which is reflected / incoming solar radiation (<strong>FSR/FSDS</strong>) Other intereresting fields might be latent heat flux or gross primary productivity. <strong>Note,</strong> we’re also going to include information about grid cell areas, as that’s helpful for calculating globally weighted results</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## TODO, split each step appart with text box annotations for each?</span>
<span class="c1"># Define the variables to read in</span>
<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;FSR&#39;</span><span class="p">,</span><span class="s1">&#39;FSDS&#39;</span><span class="p">,</span> <span class="s1">&#39;ELAI&#39;</span><span class="p">,</span><span class="s1">&#39;area&#39;</span><span class="p">,</span><span class="s1">&#39;landfrac&#39;</span><span class="p">]</span>

<span class="sd">&#39;&#39;&#39;select the variables we want to read in&#39;&#39;&#39;</span>
<span class="k">def</span> <span class="nf">preprocess</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="n">fields</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ds</span><span class="p">[</span><span class="n">fields</span><span class="p">]</span>

<span class="sd">&#39;&#39;&#39; quick fix to adjust time vector for monthly data&#39;&#39;&#39;</span>
<span class="k">def</span> <span class="nf">fix_time</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>  
    <span class="n">nmonths</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
    <span class="n">yr0</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;time.year&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span><span class="n">xr</span><span class="o">.</span><span class="n">cftime_range</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">yr0</span><span class="p">),</span><span class="n">periods</span><span class="o">=</span><span class="n">nmonths</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;MS&#39;</span><span class="p">)</span>    

    <span class="k">return</span> <span class="n">ds</span>


<span class="c1"># Open the datasets</span>
<span class="c1"># Note, here we&#39;ll just read in a single year of data for efficiency</span>
<span class="n">dsCTSM</span> <span class="o">=</span> <span class="n">fix_time</span><span class="p">(</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">finCTSM</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">decode_times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                                    <span class="n">preprocess</span><span class="o">=</span><span class="n">preprocess</span><span class="p">))</span>
<span class="n">dsFATES</span> <span class="o">=</span> <span class="n">fix_time</span><span class="p">(</span><span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">finFATES</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">decode_times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                                     <span class="n">preprocess</span><span class="o">=</span><span class="n">preprocess</span><span class="p">)</span> <span class="p">)</span>

<span class="n">dsFATES</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt, dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:   (lat: 46, lon: 72, time: 12)
Coordinates:
  * time      (time) object 2015-01-01 00:00:00 ... 2015-12-01 00:00:00
  * lon       (lon) float32 0.0 5.0 10.0 15.0 20.0 ... 340.0 345.0 350.0 355.0
  * lat       (lat) float32 -90.0 -86.0 -82.0 -78.0 ... 78.0 82.0 86.0 90.0
Data variables:
    FSR       (time, lat, lon) float32 dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;
    FSDS      (time, lat, lon) float32 dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;
    ELAI      (time, lat, lon) float32 dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;
    area      (time, lat, lon) float32 dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;
    landfrac  (time, lat, lon) float32 dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;
Attributes:
    title:                                CLM History file information
    comment:                              NOTE: None of the variables are wei...
    Conventions:                          CF-1.0
    history:                              created on 04/26/22 13:39:22
    source:                               Community Terrestrial Systems Model
    hostname:                             cheyenne
    username:                             wwieder
    version:                              unknown
    revision_id:                          $Id: histFileMod.F90 42903 2012-12-...
    case_title:                           I2000_CTSM_FATESsp
    case_id:                              I2000_CTSM_FATESsp
    Surface_dataset:                      surfdata_4x5_hist_16pfts_Irrig_CMIP...
    Initial_conditions_dataset:           arbitrary initialization
    PFT_physiological_constants_dataset:  ctsm51_params.c211112.nc
    ltype_vegetated_or_bare_soil:         1
    ltype_crop:                           2
    ltype_UNUSED:                         3
    ltype_landice:                        4
    ltype_deep_lake:                      5
    ltype_wetland:                        6
    ltype_urban_tbd:                      7
    ltype_urban_hd:                       8
    ltype_urban_md:                       9
    ctype_vegetated_or_bare_soil:         1
    ctype_crop:                           2
    ctype_crop_noncompete:                2*100+m, m=cft_lb,cft_ub
    ctype_landice:                        4*100+m, m=1,glcnec
    ctype_deep_lake:                      5
    ctype_wetland:                        6
    ctype_urban_roof:                     71
    ctype_urban_sunwall:                  72
    ctype_urban_shadewall:                73
    ctype_urban_impervious_road:          74
    ctype_urban_pervious_road:            75
    time_period_freq:                     month_1
    Time_constant_3Dvars_filename:        ./I2000_CTSM_FATESsp.clm2.h0.2000-0...
    Time_constant_3Dvars:                 ZSOI:DZSOI:WATSAT:SUCSAT:BSW:HKSAT:...</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-662ffdb4-01ea-4705-aa15-b34b4899b958' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-662ffdb4-01ea-4705-aa15-b34b4899b958' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>lat</span>: 46</li><li><span class='xr-has-index'>lon</span>: 72</li><li><span class='xr-has-index'>time</span>: 12</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-046666de-756a-4097-90b0-af46e113c4a2' class='xr-section-summary-in' type='checkbox'  checked><label for='section-046666de-756a-4097-90b0-af46e113c4a2' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>2015-01-01 00:00:00 ... 2015-12-...</div><input id='attrs-9f2758f2-63cd-464b-a152-c42f00893b1a' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-9f2758f2-63cd-464b-a152-c42f00893b1a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2ad25732-b327-4d8a-a0a0-8bce7bb7c891' class='xr-var-data-in' type='checkbox'><label for='data-2ad25732-b327-4d8a-a0a0-8bce7bb7c891' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([cftime.DatetimeGregorian(2015, 1, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 2, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 3, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 4, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 5, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 6, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 7, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 8, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 9, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 10, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 11, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 12, 1, 0, 0, 0, 0)], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 5.0 10.0 ... 345.0 350.0 355.0</div><input id='attrs-027ca12b-df49-44a3-b2ad-6ce5e1fce0f4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-027ca12b-df49-44a3-b2ad-6ce5e1fce0f4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bd33349f-b9ce-4ff7-b9ee-4ea5bcc0cf07' class='xr-var-data-in' type='checkbox'><label for='data-bd33349f-b9ce-4ff7-b9ee-4ea5bcc0cf07' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>coordinate longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([  0.,   5.,  10.,  15.,  20.,  25.,  30.,  35.,  40.,  45.,  50.,  55.,
        60.,  65.,  70.,  75.,  80.,  85.,  90.,  95., 100., 105., 110., 115.,
       120., 125., 130., 135., 140., 145., 150., 155., 160., 165., 170., 175.,
       180., 185., 190., 195., 200., 205., 210., 215., 220., 225., 230., 235.,
       240., 245., 250., 255., 260., 265., 270., 275., 280., 285., 290., 295.,
       300., 305., 310., 315., 320., 325., 330., 335., 340., 345., 350., 355.],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-90.0 -86.0 -82.0 ... 86.0 90.0</div><input id='attrs-5e8bb14d-49d2-4a14-bd27-5251270baaf1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5e8bb14d-49d2-4a14-bd27-5251270baaf1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-302ec25f-03b6-42ea-a51e-c458fee45086' class='xr-var-data-in' type='checkbox'><label for='data-302ec25f-03b6-42ea-a51e-c458fee45086' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>coordinate latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([-90., -86., -82., -78., -74., -70., -66., -62., -58., -54., -50., -46.,
       -42., -38., -34., -30., -26., -22., -18., -14., -10.,  -6.,  -2.,   2.,
         6.,  10.,  14.,  18.,  22.,  26.,  30.,  34.,  38.,  42.,  46.,  50.,
        54.,  58.,  62.,  66.,  70.,  74.,  78.,  82.,  86.,  90.],
      dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-76efa020-7587-41cb-9bae-0806d5a41b9a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-76efa020-7587-41cb-9bae-0806d5a41b9a' class='xr-section-summary' >Data variables: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>FSR</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;</div><input id='attrs-ac13036b-d327-4dfa-9677-6ae3dd7d739f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ac13036b-d327-4dfa-9677-6ae3dd7d739f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fe2be8a0-6eac-4882-8ecd-07fcb3baa0c4' class='xr-var-data-in' type='checkbox'><label for='data-fe2be8a0-6eac-4882-8ecd-07fcb3baa0c4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>reflected solar radiation</dd><dt><span>units :</span></dt><dd>W/m^2</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>landunit_mask :</span></dt><dd>unknown</dd></dl></div><div class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 158.98 kB </td> <td> 13.25 kB </td></tr>
    <tr><th> Shape </th><td> (12, 46, 72) </td> <td> (1, 46, 72) </td></tr>
    <tr><th> Count </th><td> 36 Tasks </td><td> 12 Chunks </td></tr>
    <tr><th> Type </th><td> float32 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="204" height="150" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="10" y1="76" x2="34" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="76" style="stroke-width:2" />
  <line x1="12" y1="2" x2="12" y2="78" />
  <line x1="14" y1="4" x2="14" y2="80" />
  <line x1="16" y1="6" x2="16" y2="82" />
  <line x1="18" y1="8" x2="18" y2="84" />
  <line x1="20" y1="10" x2="20" y2="86" />
  <line x1="22" y1="12" x2="22" y2="88" />
  <line x1="24" y1="14" x2="24" y2="90" />
  <line x1="26" y1="16" x2="26" y2="92" />
  <line x1="28" y1="18" x2="28" y2="94" />
  <line x1="30" y1="20" x2="30" y2="96" />
  <line x1="32" y1="22" x2="32" y2="98" />
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 34.237547,24.237547 34.237547,100.904213 10.000000,76.666667" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="26" y1="16" x2="146" y2="16" />
  <line x1="28" y1="18" x2="148" y2="18" />
  <line x1="30" y1="20" x2="150" y2="20" />
  <line x1="32" y1="22" x2="152" y2="22" />
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="130" y1="0" x2="154" y2="24" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 130.000000,0.000000 154.237547,24.237547 34.237547,24.237547" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />
  <line x1="34" y1="100" x2="154" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />
  <line x1="154" y1="24" x2="154" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="34.237547,24.237547 154.237547,24.237547 154.237547,100.904213 34.237547,100.904213" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.237547" y="120.904213" font-size="1.0rem" font-weight="100" text-anchor="middle" >72</text>
  <text x="174.237547" y="62.570880" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,174.237547,62.570880)">46</text>
  <text x="12.118773" y="108.785440" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,12.118773,108.785440)">12</text>
</svg>
</td>
</tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>FSDS</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;</div><input id='attrs-2aed874c-5f26-4047-a29b-c5731a0ab769' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2aed874c-5f26-4047-a29b-c5731a0ab769' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2db8384d-2edb-4a77-b45b-3fe1228bc464' class='xr-var-data-in' type='checkbox'><label for='data-2db8384d-2edb-4a77-b45b-3fe1228bc464' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>atmospheric incident solar radiation</dd><dt><span>units :</span></dt><dd>W/m^2</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>landunit_mask :</span></dt><dd>unknown</dd></dl></div><div class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 158.98 kB </td> <td> 13.25 kB </td></tr>
    <tr><th> Shape </th><td> (12, 46, 72) </td> <td> (1, 46, 72) </td></tr>
    <tr><th> Count </th><td> 36 Tasks </td><td> 12 Chunks </td></tr>
    <tr><th> Type </th><td> float32 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="204" height="150" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="10" y1="76" x2="34" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="76" style="stroke-width:2" />
  <line x1="12" y1="2" x2="12" y2="78" />
  <line x1="14" y1="4" x2="14" y2="80" />
  <line x1="16" y1="6" x2="16" y2="82" />
  <line x1="18" y1="8" x2="18" y2="84" />
  <line x1="20" y1="10" x2="20" y2="86" />
  <line x1="22" y1="12" x2="22" y2="88" />
  <line x1="24" y1="14" x2="24" y2="90" />
  <line x1="26" y1="16" x2="26" y2="92" />
  <line x1="28" y1="18" x2="28" y2="94" />
  <line x1="30" y1="20" x2="30" y2="96" />
  <line x1="32" y1="22" x2="32" y2="98" />
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 34.237547,24.237547 34.237547,100.904213 10.000000,76.666667" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="26" y1="16" x2="146" y2="16" />
  <line x1="28" y1="18" x2="148" y2="18" />
  <line x1="30" y1="20" x2="150" y2="20" />
  <line x1="32" y1="22" x2="152" y2="22" />
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="130" y1="0" x2="154" y2="24" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 130.000000,0.000000 154.237547,24.237547 34.237547,24.237547" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />
  <line x1="34" y1="100" x2="154" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />
  <line x1="154" y1="24" x2="154" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="34.237547,24.237547 154.237547,24.237547 154.237547,100.904213 34.237547,100.904213" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.237547" y="120.904213" font-size="1.0rem" font-weight="100" text-anchor="middle" >72</text>
  <text x="174.237547" y="62.570880" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,174.237547,62.570880)">46</text>
  <text x="12.118773" y="108.785440" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,12.118773,108.785440)">12</text>
</svg>
</td>
</tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>ELAI</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;</div><input id='attrs-56dbae47-587f-421b-80d2-9915fbf0d931' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-56dbae47-587f-421b-80d2-9915fbf0d931' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bcf38c93-8e5a-4d65-9690-8e16a6a92bca' class='xr-var-data-in' type='checkbox'><label for='data-bcf38c93-8e5a-4d65-9690-8e16a6a92bca' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>exposed one-sided leaf area index</dd><dt><span>units :</span></dt><dd>m^2/m^2</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>landunit_mask :</span></dt><dd>unknown</dd></dl></div><div class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 158.98 kB </td> <td> 13.25 kB </td></tr>
    <tr><th> Shape </th><td> (12, 46, 72) </td> <td> (1, 46, 72) </td></tr>
    <tr><th> Count </th><td> 36 Tasks </td><td> 12 Chunks </td></tr>
    <tr><th> Type </th><td> float32 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="204" height="150" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="10" y1="76" x2="34" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="76" style="stroke-width:2" />
  <line x1="12" y1="2" x2="12" y2="78" />
  <line x1="14" y1="4" x2="14" y2="80" />
  <line x1="16" y1="6" x2="16" y2="82" />
  <line x1="18" y1="8" x2="18" y2="84" />
  <line x1="20" y1="10" x2="20" y2="86" />
  <line x1="22" y1="12" x2="22" y2="88" />
  <line x1="24" y1="14" x2="24" y2="90" />
  <line x1="26" y1="16" x2="26" y2="92" />
  <line x1="28" y1="18" x2="28" y2="94" />
  <line x1="30" y1="20" x2="30" y2="96" />
  <line x1="32" y1="22" x2="32" y2="98" />
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 34.237547,24.237547 34.237547,100.904213 10.000000,76.666667" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="26" y1="16" x2="146" y2="16" />
  <line x1="28" y1="18" x2="148" y2="18" />
  <line x1="30" y1="20" x2="150" y2="20" />
  <line x1="32" y1="22" x2="152" y2="22" />
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="130" y1="0" x2="154" y2="24" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 130.000000,0.000000 154.237547,24.237547 34.237547,24.237547" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />
  <line x1="34" y1="100" x2="154" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />
  <line x1="154" y1="24" x2="154" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="34.237547,24.237547 154.237547,24.237547 154.237547,100.904213 34.237547,100.904213" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.237547" y="120.904213" font-size="1.0rem" font-weight="100" text-anchor="middle" >72</text>
  <text x="174.237547" y="62.570880" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,174.237547,62.570880)">46</text>
  <text x="12.118773" y="108.785440" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,12.118773,108.785440)">12</text>
</svg>
</td>
</tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>area</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;</div><input id='attrs-59f895ef-a481-4ead-800d-e093c1b093e9' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-59f895ef-a481-4ead-800d-e093c1b093e9' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-591a8a73-5a0a-45d5-94fc-0342f6a1431f' class='xr-var-data-in' type='checkbox'><label for='data-591a8a73-5a0a-45d5-94fc-0342f6a1431f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>grid cell areas</dd><dt><span>units :</span></dt><dd>km^2</dd></dl></div><div class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 158.98 kB </td> <td> 13.25 kB </td></tr>
    <tr><th> Shape </th><td> (12, 46, 72) </td> <td> (1, 46, 72) </td></tr>
    <tr><th> Count </th><td> 48 Tasks </td><td> 12 Chunks </td></tr>
    <tr><th> Type </th><td> float32 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="204" height="150" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="10" y1="76" x2="34" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="76" style="stroke-width:2" />
  <line x1="12" y1="2" x2="12" y2="78" />
  <line x1="14" y1="4" x2="14" y2="80" />
  <line x1="16" y1="6" x2="16" y2="82" />
  <line x1="18" y1="8" x2="18" y2="84" />
  <line x1="20" y1="10" x2="20" y2="86" />
  <line x1="22" y1="12" x2="22" y2="88" />
  <line x1="24" y1="14" x2="24" y2="90" />
  <line x1="26" y1="16" x2="26" y2="92" />
  <line x1="28" y1="18" x2="28" y2="94" />
  <line x1="30" y1="20" x2="30" y2="96" />
  <line x1="32" y1="22" x2="32" y2="98" />
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 34.237547,24.237547 34.237547,100.904213 10.000000,76.666667" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="26" y1="16" x2="146" y2="16" />
  <line x1="28" y1="18" x2="148" y2="18" />
  <line x1="30" y1="20" x2="150" y2="20" />
  <line x1="32" y1="22" x2="152" y2="22" />
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="130" y1="0" x2="154" y2="24" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 130.000000,0.000000 154.237547,24.237547 34.237547,24.237547" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />
  <line x1="34" y1="100" x2="154" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />
  <line x1="154" y1="24" x2="154" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="34.237547,24.237547 154.237547,24.237547 154.237547,100.904213 34.237547,100.904213" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.237547" y="120.904213" font-size="1.0rem" font-weight="100" text-anchor="middle" >72</text>
  <text x="174.237547" y="62.570880" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,174.237547,62.570880)">46</text>
  <text x="12.118773" y="108.785440" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,12.118773,108.785440)">12</text>
</svg>
</td>
</tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>landfrac</span></div><div class='xr-var-dims'>(time, lat, lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;</div><input id='attrs-0bc234f5-a2a0-4b65-b69e-4a2010d89151' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0bc234f5-a2a0-4b65-b69e-4a2010d89151' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-34fcb969-316a-4fff-96a7-67ffb1912026' class='xr-var-data-in' type='checkbox'><label for='data-34fcb969-316a-4fff-96a7-67ffb1912026' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>land fraction</dd></dl></div><div class='xr-var-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 158.98 kB </td> <td> 13.25 kB </td></tr>
    <tr><th> Shape </th><td> (12, 46, 72) </td> <td> (1, 46, 72) </td></tr>
    <tr><th> Count </th><td> 48 Tasks </td><td> 12 Chunks </td></tr>
    <tr><th> Type </th><td> float32 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="204" height="150" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="10" y1="76" x2="34" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="76" style="stroke-width:2" />
  <line x1="12" y1="2" x2="12" y2="78" />
  <line x1="14" y1="4" x2="14" y2="80" />
  <line x1="16" y1="6" x2="16" y2="82" />
  <line x1="18" y1="8" x2="18" y2="84" />
  <line x1="20" y1="10" x2="20" y2="86" />
  <line x1="22" y1="12" x2="22" y2="88" />
  <line x1="24" y1="14" x2="24" y2="90" />
  <line x1="26" y1="16" x2="26" y2="92" />
  <line x1="28" y1="18" x2="28" y2="94" />
  <line x1="30" y1="20" x2="30" y2="96" />
  <line x1="32" y1="22" x2="32" y2="98" />
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 34.237547,24.237547 34.237547,100.904213 10.000000,76.666667" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="26" y1="16" x2="146" y2="16" />
  <line x1="28" y1="18" x2="148" y2="18" />
  <line x1="30" y1="20" x2="150" y2="20" />
  <line x1="32" y1="22" x2="152" y2="22" />
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="130" y1="0" x2="154" y2="24" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 130.000000,0.000000 154.237547,24.237547 34.237547,24.237547" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />
  <line x1="34" y1="100" x2="154" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />
  <line x1="154" y1="24" x2="154" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="34.237547,24.237547 154.237547,24.237547 154.237547,100.904213 34.237547,100.904213" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.237547" y="120.904213" font-size="1.0rem" font-weight="100" text-anchor="middle" >72</text>
  <text x="174.237547" y="62.570880" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,174.237547,62.570880)">46</text>
  <text x="12.118773" y="108.785440" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,12.118773,108.785440)">12</text>
</svg>
</td>
</tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-bf6f8084-a9c4-49fa-b3f9-23e69f353511' class='xr-section-summary-in' type='checkbox'  ><label for='section-bf6f8084-a9c4-49fa-b3f9-23e69f353511' class='xr-section-summary' >Attributes: <span>(37)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>title :</span></dt><dd>CLM History file information</dd><dt><span>comment :</span></dt><dd>NOTE: None of the variables are weighted by land fraction!</dd><dt><span>Conventions :</span></dt><dd>CF-1.0</dd><dt><span>history :</span></dt><dd>created on 04/26/22 13:39:22</dd><dt><span>source :</span></dt><dd>Community Terrestrial Systems Model</dd><dt><span>hostname :</span></dt><dd>cheyenne</dd><dt><span>username :</span></dt><dd>wwieder</dd><dt><span>version :</span></dt><dd>unknown</dd><dt><span>revision_id :</span></dt><dd>$Id: histFileMod.F90 42903 2012-12-21 15:32:10Z muszala $</dd><dt><span>case_title :</span></dt><dd>I2000_CTSM_FATESsp</dd><dt><span>case_id :</span></dt><dd>I2000_CTSM_FATESsp</dd><dt><span>Surface_dataset :</span></dt><dd>surfdata_4x5_hist_16pfts_Irrig_CMIP6_simyr2000_c190214.nc</dd><dt><span>Initial_conditions_dataset :</span></dt><dd>arbitrary initialization</dd><dt><span>PFT_physiological_constants_dataset :</span></dt><dd>ctsm51_params.c211112.nc</dd><dt><span>ltype_vegetated_or_bare_soil :</span></dt><dd>1</dd><dt><span>ltype_crop :</span></dt><dd>2</dd><dt><span>ltype_UNUSED :</span></dt><dd>3</dd><dt><span>ltype_landice :</span></dt><dd>4</dd><dt><span>ltype_deep_lake :</span></dt><dd>5</dd><dt><span>ltype_wetland :</span></dt><dd>6</dd><dt><span>ltype_urban_tbd :</span></dt><dd>7</dd><dt><span>ltype_urban_hd :</span></dt><dd>8</dd><dt><span>ltype_urban_md :</span></dt><dd>9</dd><dt><span>ctype_vegetated_or_bare_soil :</span></dt><dd>1</dd><dt><span>ctype_crop :</span></dt><dd>2</dd><dt><span>ctype_crop_noncompete :</span></dt><dd>2*100+m, m=cft_lb,cft_ub</dd><dt><span>ctype_landice :</span></dt><dd>4*100+m, m=1,glcnec</dd><dt><span>ctype_deep_lake :</span></dt><dd>5</dd><dt><span>ctype_wetland :</span></dt><dd>6</dd><dt><span>ctype_urban_roof :</span></dt><dd>71</dd><dt><span>ctype_urban_sunwall :</span></dt><dd>72</dd><dt><span>ctype_urban_shadewall :</span></dt><dd>73</dd><dt><span>ctype_urban_impervious_road :</span></dt><dd>74</dd><dt><span>ctype_urban_pervious_road :</span></dt><dd>75</dd><dt><span>time_period_freq :</span></dt><dd>month_1</dd><dt><span>Time_constant_3Dvars_filename :</span></dt><dd>./I2000_CTSM_FATESsp.clm2.h0.2000-01.nc</dd><dt><span>Time_constant_3Dvars :</span></dt><dd>ZSOI:DZSOI:WATSAT:SUCSAT:BSW:HKSAT:ZLAKE:DZLAKE:PCT_SAND:PCT_CLAY</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="section" id="printing-information-on-dataset-we-ve-read-is-helpful-for-understanding-your-data">
<h4>Printing information on dataset we’ve read is helpful for understanding your data.<a class="headerlink" href="#printing-information-on-dataset-we-ve-read-is-helpful-for-understanding-your-data" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><em>What dimensions do your data have?</em></p></li>
<li><p><em>What are the coordinate variables?</em></p></li>
<li><p><em>What variables are we looking at?</em></p></li>
<li><p><em>Is there other helpful information, or attributes in the dataset we should be aware of?</em></p></li>
</ul>
<hr class="docutils" />
<p>You can also print information about the variables in your dataset.</p>
<p>This can be done with the example below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dsFATES</span><span class="o">.</span><span class="n">FSDS</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt, dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;FSDS&#x27; (time: 12, lat: 46, lon: 72)&gt;
dask.array&lt;concatenate, shape=(12, 46, 72), dtype=float32, chunksize=(1, 46, 72), chunktype=numpy.ndarray&gt;
Coordinates:
  * time     (time) object 2015-01-01 00:00:00 ... 2015-12-01 00:00:00
  * lon      (lon) float32 0.0 5.0 10.0 15.0 20.0 ... 340.0 345.0 350.0 355.0
  * lat      (lat) float32 -90.0 -86.0 -82.0 -78.0 -74.0 ... 78.0 82.0 86.0 90.0
Attributes:
    long_name:      atmospheric incident solar radiation
    units:          W/m^2
    cell_methods:   time: mean
    landunit_mask:  unknown</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'FSDS'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 12</li><li><span class='xr-has-index'>lat</span>: 46</li><li><span class='xr-has-index'>lon</span>: 72</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-9d6fef83-3b2c-4538-8bf1-6300c1eebb34' class='xr-array-in' type='checkbox' checked><label for='section-9d6fef83-3b2c-4538-8bf1-6300c1eebb34' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 158.98 kB </td> <td> 13.25 kB </td></tr>
    <tr><th> Shape </th><td> (12, 46, 72) </td> <td> (1, 46, 72) </td></tr>
    <tr><th> Count </th><td> 36 Tasks </td><td> 12 Chunks </td></tr>
    <tr><th> Type </th><td> float32 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="204" height="150" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="10" y1="76" x2="34" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="76" style="stroke-width:2" />
  <line x1="12" y1="2" x2="12" y2="78" />
  <line x1="14" y1="4" x2="14" y2="80" />
  <line x1="16" y1="6" x2="16" y2="82" />
  <line x1="18" y1="8" x2="18" y2="84" />
  <line x1="20" y1="10" x2="20" y2="86" />
  <line x1="22" y1="12" x2="22" y2="88" />
  <line x1="24" y1="14" x2="24" y2="90" />
  <line x1="26" y1="16" x2="26" y2="92" />
  <line x1="28" y1="18" x2="28" y2="94" />
  <line x1="30" y1="20" x2="30" y2="96" />
  <line x1="32" y1="22" x2="32" y2="98" />
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 34.237547,24.237547 34.237547,100.904213 10.000000,76.666667" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="26" y1="16" x2="146" y2="16" />
  <line x1="28" y1="18" x2="148" y2="18" />
  <line x1="30" y1="20" x2="150" y2="20" />
  <line x1="32" y1="22" x2="152" y2="22" />
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="130" y1="0" x2="154" y2="24" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 130.000000,0.000000 154.237547,24.237547 34.237547,24.237547" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />
  <line x1="34" y1="100" x2="154" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />
  <line x1="154" y1="24" x2="154" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="34.237547,24.237547 154.237547,24.237547 154.237547,100.904213 34.237547,100.904213" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.237547" y="120.904213" font-size="1.0rem" font-weight="100" text-anchor="middle" >72</text>
  <text x="174.237547" y="62.570880" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,174.237547,62.570880)">46</text>
  <text x="12.118773" y="108.785440" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,12.118773,108.785440)">12</text>
</svg>
</td>
</tr>
</table></div></div></li><li class='xr-section-item'><input id='section-42479ce1-edd5-449c-bf7a-3e11c1d2b311' class='xr-section-summary-in' type='checkbox'  checked><label for='section-42479ce1-edd5-449c-bf7a-3e11c1d2b311' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>2015-01-01 00:00:00 ... 2015-12-...</div><input id='attrs-a7295ecd-bb53-45be-bdab-b0a5f16e46b8' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-a7295ecd-bb53-45be-bdab-b0a5f16e46b8' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-51665296-0e68-4539-9fe1-97f247fefd90' class='xr-var-data-in' type='checkbox'><label for='data-51665296-0e68-4539-9fe1-97f247fefd90' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([cftime.DatetimeGregorian(2015, 1, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 2, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 3, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 4, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 5, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 6, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 7, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 8, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 9, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 10, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 11, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 12, 1, 0, 0, 0, 0)], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 5.0 10.0 ... 345.0 350.0 355.0</div><input id='attrs-529032e8-7a8b-4e4f-ab2f-99b87793027d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-529032e8-7a8b-4e4f-ab2f-99b87793027d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-13c16f3d-25b7-4b67-9f80-98d71f354929' class='xr-var-data-in' type='checkbox'><label for='data-13c16f3d-25b7-4b67-9f80-98d71f354929' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>coordinate longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([  0.,   5.,  10.,  15.,  20.,  25.,  30.,  35.,  40.,  45.,  50.,  55.,
        60.,  65.,  70.,  75.,  80.,  85.,  90.,  95., 100., 105., 110., 115.,
       120., 125., 130., 135., 140., 145., 150., 155., 160., 165., 170., 175.,
       180., 185., 190., 195., 200., 205., 210., 215., 220., 225., 230., 235.,
       240., 245., 250., 255., 260., 265., 270., 275., 280., 285., 290., 295.,
       300., 305., 310., 315., 320., 325., 330., 335., 340., 345., 350., 355.],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-90.0 -86.0 -82.0 ... 86.0 90.0</div><input id='attrs-e01c62dd-9a7d-4191-9530-60d00f208363' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e01c62dd-9a7d-4191-9530-60d00f208363' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b0193da3-013a-48e6-9e13-cab4ee666926' class='xr-var-data-in' type='checkbox'><label for='data-b0193da3-013a-48e6-9e13-cab4ee666926' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>coordinate latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([-90., -86., -82., -78., -74., -70., -66., -62., -58., -54., -50., -46.,
       -42., -38., -34., -30., -26., -22., -18., -14., -10.,  -6.,  -2.,   2.,
         6.,  10.,  14.,  18.,  22.,  26.,  30.,  34.,  38.,  42.,  46.,  50.,
        54.,  58.,  62.,  66.,  70.,  74.,  78.,  82.,  86.,  90.],
      dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-488a0699-2e4a-49bc-bb80-0a9ae7b8cd37' class='xr-section-summary-in' type='checkbox'  checked><label for='section-488a0699-2e4a-49bc-bb80-0a9ae7b8cd37' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>atmospheric incident solar radiation</dd><dt><span>units :</span></dt><dd>W/m^2</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>landunit_mask :</span></dt><dd>unknown</dd></dl></div></li></ul></div></div></div></div>
</div>
<p><em>What are the units, long name, and dimensions of your data?</em></p>
<p>Modify this cell with some of the other variables in your dataset?</p>
</div>
<hr class="docutils" />
<div class="section" id="combining-datasets">
<h4>Combining datasets<a class="headerlink" href="#combining-datasets" title="Permalink to this headline">¶</a></h4>
<p>Next, since our CTSM-FATESsp and CTSM5.1-SP have the same variables, we’ll</p>
<ol class="simple">
<li><p>Combine them into a single dataset using the xarray function <code class="docutils literal notranslate"><span class="pre">concat</span></code> along a new dimensions that we’ll introduce for each simulation, <code class="docutils literal notranslate"><span class="pre">sim</span></code>.</p></li>
<li><p>Assign corrdinates to the ‘sim’ dimension</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">dsCTSM</span><span class="p">,</span><span class="n">dsFATES</span><span class="p">],</span> <span class="s1">&#39;sim&#39;</span><span class="p">,</span><span class="n">data_vars</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">assign_coords</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;sim&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;CTSM5.1-sp&#39;</span><span class="p">,</span><span class="s1">&#39;CTSM-FATESsp&#39;</span><span class="p">]))</span>
<span class="n">dsFATES</span><span class="o">.</span><span class="n">FSDS</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt, dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;FSDS&#x27; (time: 12, lat: 46, lon: 72)&gt;
dask.array&lt;concatenate, shape=(12, 46, 72), dtype=float32, chunksize=(1, 46, 72), chunktype=numpy.ndarray&gt;
Coordinates:
  * time     (time) object 2015-01-01 00:00:00 ... 2015-12-01 00:00:00
  * lon      (lon) float32 0.0 5.0 10.0 15.0 20.0 ... 340.0 345.0 350.0 355.0
  * lat      (lat) float32 -90.0 -86.0 -82.0 -78.0 -74.0 ... 78.0 82.0 86.0 90.0
Attributes:
    long_name:      atmospheric incident solar radiation
    units:          W/m^2
    cell_methods:   time: mean
    landunit_mask:  unknown</pre><div class='xr-wrap' hidden><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'FSDS'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 12</li><li><span class='xr-has-index'>lat</span>: 46</li><li><span class='xr-has-index'>lon</span>: 72</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-3dc04545-8129-4ff2-8239-eb4d54cf7e99' class='xr-array-in' type='checkbox' checked><label for='section-3dc04545-8129-4ff2-8239-eb4d54cf7e99' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(1, 46, 72), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>
<tr>
<td>
<table>
  <thead>
    <tr><td> </td><th> Array </th><th> Chunk </th></tr>
  </thead>
  <tbody>
    <tr><th> Bytes </th><td> 158.98 kB </td> <td> 13.25 kB </td></tr>
    <tr><th> Shape </th><td> (12, 46, 72) </td> <td> (1, 46, 72) </td></tr>
    <tr><th> Count </th><td> 36 Tasks </td><td> 12 Chunks </td></tr>
    <tr><th> Type </th><td> float32 </td><td> numpy.ndarray </td></tr>
  </tbody>
</table>
</td>
<td>
<svg width="204" height="150" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="10" y1="76" x2="34" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="76" style="stroke-width:2" />
  <line x1="12" y1="2" x2="12" y2="78" />
  <line x1="14" y1="4" x2="14" y2="80" />
  <line x1="16" y1="6" x2="16" y2="82" />
  <line x1="18" y1="8" x2="18" y2="84" />
  <line x1="20" y1="10" x2="20" y2="86" />
  <line x1="22" y1="12" x2="22" y2="88" />
  <line x1="24" y1="14" x2="24" y2="90" />
  <line x1="26" y1="16" x2="26" y2="92" />
  <line x1="28" y1="18" x2="28" y2="94" />
  <line x1="30" y1="20" x2="30" y2="96" />
  <line x1="32" y1="22" x2="32" y2="98" />
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 34.237547,24.237547 34.237547,100.904213 10.000000,76.666667" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="12" y1="2" x2="132" y2="2" />
  <line x1="14" y1="4" x2="134" y2="4" />
  <line x1="16" y1="6" x2="136" y2="6" />
  <line x1="18" y1="8" x2="138" y2="8" />
  <line x1="20" y1="10" x2="140" y2="10" />
  <line x1="22" y1="12" x2="142" y2="12" />
  <line x1="24" y1="14" x2="144" y2="14" />
  <line x1="26" y1="16" x2="146" y2="16" />
  <line x1="28" y1="18" x2="148" y2="18" />
  <line x1="30" y1="20" x2="150" y2="20" />
  <line x1="32" y1="22" x2="152" y2="22" />
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="34" y2="24" style="stroke-width:2" />
  <line x1="130" y1="0" x2="154" y2="24" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.000000,0.000000 130.000000,0.000000 154.237547,24.237547 34.237547,24.237547" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="34" y1="24" x2="154" y2="24" style="stroke-width:2" />
  <line x1="34" y1="100" x2="154" y2="100" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="34" y1="24" x2="34" y2="100" style="stroke-width:2" />
  <line x1="154" y1="24" x2="154" y2="100" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="34.237547,24.237547 154.237547,24.237547 154.237547,100.904213 34.237547,100.904213" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="94.237547" y="120.904213" font-size="1.0rem" font-weight="100" text-anchor="middle" >72</text>
  <text x="174.237547" y="62.570880" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,174.237547,62.570880)">46</text>
  <text x="12.118773" y="108.785440" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,12.118773,108.785440)">12</text>
</svg>
</td>
</tr>
</table></div></div></li><li class='xr-section-item'><input id='section-3f381263-1197-404c-b8b8-07f91ddd246e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3f381263-1197-404c-b8b8-07f91ddd246e' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>2015-01-01 00:00:00 ... 2015-12-...</div><input id='attrs-0c0bbff2-458f-4957-91c9-8700b9ad3403' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-0c0bbff2-458f-4957-91c9-8700b9ad3403' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-da104013-6d29-49d5-ae3b-c2de378fb55a' class='xr-var-data-in' type='checkbox'><label for='data-da104013-6d29-49d5-ae3b-c2de378fb55a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([cftime.DatetimeGregorian(2015, 1, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 2, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 3, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 4, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 5, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 6, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 7, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 8, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 9, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 10, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 11, 1, 0, 0, 0, 0),
       cftime.DatetimeGregorian(2015, 12, 1, 0, 0, 0, 0)], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>0.0 5.0 10.0 ... 345.0 350.0 355.0</div><input id='attrs-5a200813-7641-4866-be45-000a53ec3bc1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5a200813-7641-4866-be45-000a53ec3bc1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-96e3c76f-6ea9-4cf2-a21f-ced5e61fd9f2' class='xr-var-data-in' type='checkbox'><label for='data-96e3c76f-6ea9-4cf2-a21f-ced5e61fd9f2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>coordinate longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd></dl></div><div class='xr-var-data'><pre>array([  0.,   5.,  10.,  15.,  20.,  25.,  30.,  35.,  40.,  45.,  50.,  55.,
        60.,  65.,  70.,  75.,  80.,  85.,  90.,  95., 100., 105., 110., 115.,
       120., 125., 130., 135., 140., 145., 150., 155., 160., 165., 170., 175.,
       180., 185., 190., 195., 200., 205., 210., 215., 220., 225., 230., 235.,
       240., 245., 250., 255., 260., 265., 270., 275., 280., 285., 290., 295.,
       300., 305., 310., 315., 320., 325., 330., 335., 340., 345., 350., 355.],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-90.0 -86.0 -82.0 ... 86.0 90.0</div><input id='attrs-851e9671-c9e7-4763-81de-effe2a9406db' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-851e9671-c9e7-4763-81de-effe2a9406db' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-139080ec-6adc-4daa-a3c6-f1b734691afc' class='xr-var-data-in' type='checkbox'><label for='data-139080ec-6adc-4daa-a3c6-f1b734691afc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>coordinate latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd></dl></div><div class='xr-var-data'><pre>array([-90., -86., -82., -78., -74., -70., -66., -62., -58., -54., -50., -46.,
       -42., -38., -34., -30., -26., -22., -18., -14., -10.,  -6.,  -2.,   2.,
         6.,  10.,  14.,  18.,  22.,  26.,  30.,  34.,  38.,  42.,  46.,  50.,
        54.,  58.,  62.,  66.,  70.,  74.,  78.,  82.,  86.,  90.],
      dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b1c994c8-cf88-4ee4-b331-8f49baa7cc82' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b1c994c8-cf88-4ee4-b331-8f49baa7cc82' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>atmospheric incident solar radiation</dd><dt><span>units :</span></dt><dd>W/m^2</dd><dt><span>cell_methods :</span></dt><dd>time: mean</dd><dt><span>landunit_mask :</span></dt><dd>unknown</dd></dl></div></li></ul></div></div></div></div>
</div>
</div>
<div class="section" id="additional-derived-variables-can-be-added-to-the-dataset">
<h4>Additional, derived variables can be added to the dataset<a class="headerlink" href="#additional-derived-variables-can-be-added-to-the-dataset" title="Permalink to this headline">¶</a></h4>
<p>Calculate the all sky albedo as a new variable in the dataset and add appropriate metadata.</p>
<p><em>Also, avoid dividing by zero using <code class="docutils literal notranslate"><span class="pre">.where</span></code> function</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;ASA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">FSR</span><span class="o">/</span><span class="n">ds</span><span class="o">.</span><span class="n">FSDS</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">FSDS</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;ASA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;unitless&#39;</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;ASA&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;All sky albedo&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="xarray-makes-quick-plots-of-the-data-easy-to-make">
<h4>Xarray makes quick plots of the data easy to make.<a class="headerlink" href="#xarray-makes-quick-plots-of-the-data-easy-to-make" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Here we can just look at a month of data from the two simulations, using the <code class="docutils literal notranslate"><span class="pre">.isel</span></code> function.</p></li>
<li><p>More examples are on the <a class="reference external" href="https://docs.xarray.dev/en/latest/user-guide/plotting.html">xarray web site</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">ASA</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;lon&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;sim&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_13_0.png" src="../_images/Day1b_GlobalVisualization_13_0.png" />
</div>
</div>
<p>Here for each month, from a single simulation</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">ASA</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;lon&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_15_0.png" src="../_images/Day1b_GlobalVisualization_15_0.png" />
</div>
</div>
<p><strong>Think:</strong></p>
<ul class="simple">
<li><p>Why don’t you see the whole globe in each panel?</p></li>
</ul>
<hr class="docutils" />
<p>Next we’re really interested in the differences between the simulations, let’s have a look:</p>
</div>
</div>
<div class="section" id="we-can-also-look-at-a-time-series">
<h3>We can also look at a <em>time series</em><a class="headerlink" href="#we-can-also-look-at-a-time-series" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>This examples uses the <code class="docutils literal notranslate"><span class="pre">.sel</span></code> function to look at a single point for a point in the Amazon</p></li>
<li><p>Below, we’ll also use subplots to see multiple variables in several panels</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">point</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">lat</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="n">point</span><span class="o">.</span><span class="n">ASA</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_17_0.png" src="../_images/Day1b_GlobalVisualization_17_0.png" />
</div>
</div>
<p><strong>Think:</strong></p>
<ul class="simple">
<li><p>Why is albedo in these simulations so different?</p></li>
<li><p>What could cause these differences in albedo in two simulations that are seeing idential climate and should have the same prescribed leaf area index (LAI)?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="sd">&#39;&#39;&#39;this first plot is the same as the one above&#39;&#39;&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="n">point</span><span class="o">.</span><span class="n">ASA</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="sd">&#39;&#39;&#39;now we&#39;ll look for potential sources of the difference&#39;&#39;&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="n">point</span><span class="o">.</span><span class="n">ELAI</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="n">point</span><span class="o">.</span><span class="n">FSDS</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="n">point</span><span class="o">.</span><span class="n">FSR</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_19_0.png" src="../_images/Day1b_GlobalVisualization_19_0.png" />
</div>
</div>
<p><strong>Look</strong></p>
<ul class="simple">
<li><p>Are the simulations seeing the same input data?</p></li>
<li><p>Is LAI be prescribed identically?</p></li>
<li><p>What’s driving the differences in albedo between FATES and CTSM5.1 simulations?</p></li>
<li><p><strong>Is this happening elsewhere?</strong></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dsDiff</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">dsDiff</span><span class="o">.</span><span class="n">ASA</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;lon&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_21_0.png" src="../_images/Day1b_GlobalVisualization_21_0.png" />
</div>
</div>
<p><strong>Look:</strong></p>
<ul class="simple">
<li><p>How is albedo different in CTSM-FATESsp and CTSM5.1-sp?</p></li>
<li><p>Where are the differences the largest?</p></li>
<li><p>Are the differences consistent throughout the year?</p></li>
<li><p>What’s driving the differences in albedo in different regions?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dsDiff</span><span class="o">.</span><span class="n">FSDS</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;lon&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">vmin</span><span class="o">=-</span><span class="mf">0.1</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_23_0.png" src="../_images/Day1b_GlobalVisualization_23_0.png" />
</div>
</div>
<p><strong>Look:</strong></p>
<ul class="simple">
<li><p>These differences in incoming solar are tiny</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dsDiff</span><span class="o">.</span><span class="n">ELAI</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;lon&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">col_wrap</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_25_0.png" src="../_images/Day1b_GlobalVisualization_25_0.png" />
</div>
</div>
<p><strong>Look:</strong></p>
<ul class="simple">
<li><p>What regions are LAI differences the greatest</p></li>
<li><p>What times of year is this true?</p></li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="global-time-series">
<h2>Global time series<a class="headerlink" href="#global-time-series" title="Permalink to this headline">¶</a></h2>
<p>There are many cases that we may like to calculate global integrated time series for particular variables.
This should be pretty straightforward, but it requires weighting the values from each grid cell by the total land area of individual gridcells.  The example below does this for our dataset.</p>
<p>We’ll calculate a:</p>
<ul class="simple">
<li><p>land area <code class="docutils literal notranslate"><span class="pre">la</span></code> that’s the product of land fraction and gridcell area, units are the same as area.</p></li>
<li><p>land weights <code class="docutils literal notranslate"><span class="pre">lw</span></code> will be the fractional weight that each grid makes to the global total.  It should be larger near the equator, and smaller at the poles and coast</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">la</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">landfrac</span><span class="o">*</span><span class="n">ds</span><span class="o">.</span><span class="n">area</span><span class="p">)</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">sim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span><span class="s1">&#39;sim&#39;</span><span class="p">])</span>
<span class="n">la</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span>
<span class="n">lw</span> <span class="o">=</span> <span class="n">la</span><span class="o">/</span><span class="n">la</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">lw</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_28_0.png" src="../_images/Day1b_GlobalVisualization_28_0.png" />
</div>
</div>
<div class="section" id="calculate-and-plot-a-global-weighted-sum">
<h3>Calculate and plot a global weighted sum<a class="headerlink" href="#calculate-and-plot-a-global-weighted-sum" title="Permalink to this headline">¶</a></h3>
<div class="alert alert-block alert-warning">
<p><b>NOTE:</b>  Other variables may make more sense to sum the global flux (e.g. global GPP as gC/unit time).  To do this you need to use the land area variable when calculating a global sum, <b>just remember pay attention to the units you’re using!</b></p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dsGlobalWgt</span> <span class="o">=</span> <span class="p">(</span><span class="n">ds</span> <span class="o">*</span> <span class="n">lw</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span><span class="s1">&#39;lon&#39;</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plotVars</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ASA&#39;</span><span class="p">,</span><span class="s1">&#39;FSDS&#39;</span><span class="p">,</span><span class="s1">&#39;ELAI&#39;</span><span class="p">,</span><span class="s1">&#39;FSR&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">plotVars</span><span class="p">)):</span>
    <span class="c1"># First add metadata for plotting</span>
    <span class="n">dsGlobalWgt</span><span class="p">[</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;long_name&#39;</span><span class="p">]</span>
    <span class="n">dsGlobalWgt</span><span class="p">[</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span>

    <span class="c1"># then make plots</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">dsGlobalWgt</span><span class="p">[</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Weighted global mean&#39;</span><span class="p">,</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
        
    <span class="k">if</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_30_0.png" src="../_images/Day1b_GlobalVisualization_30_0.png" />
</div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="calculate-and-plot-an-annual-weighted-mean">
<h2>Calculate and plot an annual weighted mean<a class="headerlink" href="#calculate-and-plot-an-annual-weighted-mean" title="Permalink to this headline">¶</a></h2>
<p>This examples walk through calculating annual averages,
that are weighted for the number of days per month.</p>
<ol class="simple">
<li><p>First we’ll define a function to do this with.</p></li>
<li><p>Then we’ll make a nice plot of the results.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># generate annual means, weighted by days / month</span>
<span class="k">def</span> <span class="nf">weighted_annual_mean</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="n">mon_day</span>  <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">31</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">]),</span> <span class="n">dims</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;month&#39;</span><span class="p">])</span>
    <span class="n">mon_wgt</span>  <span class="o">=</span> <span class="n">mon_day</span><span class="o">/</span><span class="n">mon_day</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># rolling</span>
            <span class="o">.</span><span class="n">construct</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)</span> <span class="c1"># construct the array</span>
            <span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span> <span class="c1"># slice so that the first element is [1..12], second is [13..24]</span>
            <span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">mon_wgt</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">plotVars</span><span class="p">)):</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">weighted_annual_mean</span><span class="p">(</span>
        <span class="n">ds</span><span class="p">[</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">chunk</span><span class="p">({</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">}))</span>
    
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">dsAnn</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dsAnn</span><span class="p">[</span><span class="n">plotVars</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">temp</span>
        
<span class="n">dsAnn</span><span class="o">.</span><span class="n">ELAI</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;lon&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span>
               <span class="n">col_wrap</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Day1b_GlobalVisualization_32_0.png" src="../_images/Day1b_GlobalVisualization_32_0.png" />
</div>
</div>
<div class="section" id="define-function-for-plotting-maps">
<h3>Define function for plotting maps<a class="headerlink" href="#define-function-for-plotting-maps" title="Permalink to this headline">¶</a></h3>
<p>This is kind of complicated function, but it allows you to make several pretty maps in one figure</p>
<p>Additional examples and information are available on the <a class="reference external" href="https://scitools.org.uk/cartopy/docs/v0.15/index.html">cartopy website</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cartopy.feature</span> <span class="k">as</span> <span class="nn">cfeature</span>
<span class="kn">from</span> <span class="nn">cartopy.util</span> <span class="kn">import</span> <span class="n">add_cyclic_point</span>
<span class="kn">import</span> <span class="nn">copy</span>

<span class="c1"># Generate a function for making panel plots of maps</span>
<span class="c1">## many of these features are not required, but provide additional control over plotting</span>
<span class="k">def</span> <span class="nf">map_function</span><span class="p">(</span><span class="n">da</span><span class="p">,</span> <span class="n">cb</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">panel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
                 <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">nbins</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;a function to make one subplot&#39;&#39;&#39;</span>
    <span class="n">wrap_data</span><span class="p">,</span> <span class="n">wrap_lon</span> <span class="o">=</span> <span class="n">add_cyclic_point</span><span class="p">(</span><span class="n">da</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">coord</span><span class="o">=</span><span class="n">da</span><span class="o">.</span><span class="n">lon</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>

    <span class="c1"># define the colormap, including the number of bins</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span><span class="n">nbins</span><span class="p">))</span>
    <span class="c1">#cmap.set_bad( &quot;gray&quot;, alpha=0.05 )</span>
    <span class="c1">#cmap.set_under( &quot;white&quot;, alpha=1 )</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">wrap_lon</span><span class="p">,</span><span class="n">da</span><span class="o">.</span><span class="n">lat</span><span class="p">,</span><span class="n">wrap_data</span><span class="p">,</span>
                   <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
                   <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>

    <span class="c1"># set the bounds of your plot</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_extent</span><span class="p">([</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="o">-</span><span class="mi">56</span><span class="p">,</span><span class="mi">85</span><span class="p">],</span> <span class="n">crs</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>

    <span class="c1"># add title &amp; panel lables</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">panel</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.90</span><span class="p">),</span> <span class="n">xycoords</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>    

    <span class="c1"># add plotting features</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
    <span class="n">ocean</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span>
        <span class="n">cfeature</span><span class="o">.</span><span class="n">NaturalEarthFeature</span><span class="p">(</span><span class="s1">&#39;physical&#39;</span><span class="p">,</span><span class="s1">&#39;ocean&#39;</span><span class="p">,</span><span class="s1">&#39;110m&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">))</span>
    <span class="c1">#land = ax.add_feature(</span>
    <span class="c1">#    cfeature.NaturalEarthFeature(&#39;physical&#39;,&#39;land&#39;,&#39;110m&#39;, facecolor=&#39;grey&#39;,alpha=0.05))</span>

    
    <span class="c1"># control colorbars on each plot &amp; their location</span>
    <span class="k">if</span> <span class="n">cb</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">cbar</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">fraction</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
        <span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">units</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cb</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">cbar</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">fraction</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">)</span>    
        <span class="n">cbar</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">units</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span><span class="c1">#,weight=&#39;bold&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="now-make-the-plot">
<h4>Now make the plot!<a class="headerlink" href="#now-make-the-plot" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">subplot_kw</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">Robinson</span><span class="p">()))</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>
    <span class="c1">#i = index[0] </span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">plotData</span> <span class="o">=</span> <span class="n">dsAnn</span><span class="o">.</span><span class="n">ELAI</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
        <span class="n">map_function</span><span class="p">(</span><span class="n">plotData</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">cb</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                     <span class="n">panel</span><span class="o">=</span><span class="s1">&#39;(a)&#39;</span><span class="p">,</span> <span class="n">nbins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                     <span class="n">vmax</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                     <span class="n">units</span><span class="o">=</span><span class="s1">&#39;FATESsp, Annual ELAI&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">plotData</span> <span class="o">=</span> <span class="p">(</span><span class="n">dsAnn</span><span class="o">.</span><span class="n">ELAI</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">-</span> \
                    <span class="n">dsAnn</span><span class="o">.</span><span class="n">ELAI</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">sim</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">map_function</span><span class="p">(</span><span class="n">plotData</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">cb</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">panel</span><span class="o">=</span><span class="s1">&#39;(b)&#39;</span><span class="p">,</span>
                     <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Differences FATESsp-CTSM5.1&#39;</span><span class="p">,</span>
                     <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;bwr&#39;</span><span class="p">,</span><span class="n">nbins</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                     <span class="n">vmax</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span><span class="n">vmin</span><span class="o">=-</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="c1"># there are various ways to do this part, index in this case is a tuple (ie `(0, 0)`)</span>
    

    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/ncar/conda/envs/default/lib/python3.7/site-packages/IPython/core/pylabtools.py:132: UserWarning: constrained_layout not applied.  At least one axes collapsed to zero width or height.
  fig.canvas.print_figure(bytes_io, **kw)
</pre></div>
</div>
<img alt="../_images/Day1b_GlobalVisualization_36_1.png" src="../_images/Day1b_GlobalVisualization_36_1.png" />
</div>
</div>
</div>
</div>
</div>
<div class="section" id="extra-credit-challenge">
<h2>Extra credit challenge<a class="headerlink" href="#extra-credit-challenge" title="Permalink to this headline">¶</a></h2>
<p>If you have extra time &amp; energy try running through this notebook with other variables.  Interesting options could include:</p>
<ul class="simple">
<li><p>Canopy evapotranspiration (FCEV) or</p></li>
<li><p>GPP (<code class="docutils literal notranslate"><span class="pre">FSPN</span></code> in CLM5.1-sp and <code class="docutils literal notranslate"><span class="pre">FATES_GPP</span></code> in FATES)</p></li>
</ul>
<div class="alert alert-block alert-warning">
<p><b>HINT:</b> pay attention to units for these challenges.</p>
</div></div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-default-py"
        },
        kernelOptions: {
            kernelName: "conda-env-default-py",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-default-py'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Day1a_GlobalCase.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Tutorial 1a: <em>Global Simulations</em></p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Day2_GenericSinglePoint.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tutorial 2b: Running a generic single-point case</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Negin Sobhani, Danica Lombardozzi, Adrianna Foster, Will Wieder<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>